import{Bb as p,C as m,Cb as N,Db as x,Fa as s,G as I,Gb as E,H as l,Hb as j,Ib as k,Ma as F,Na as f,Nb as A,Pb as T,Qb as L,Wa as b,X as d,Y as a,_a as y,db as c,ja as u,ra as n,sa as o,ta as g,tb as w,vb as h,wa as S,xb as C,zb as M}from"./chunk-VO6PPKUX.js";var R=e=>({"border border-danger":e}),G=(()=>{class e{constructor(r,t,i,v){this.signInBuilder=r,this.router=t,this.authService=i,this.toastr=v,this.isLoggedIn=b(()=>this.authService.isLoggedInSignal()),this.signInForm=this.signInBuilder.group({email:["",[p.required,p.email]],password:["",p.required]}),this.isLoggedIn()&&this.router.navigate(["main"])}onSignInSubmit(){let r={email:this.signInForm.get("email").value,password:this.signInForm.get("password").value};this.signInForm.valid?this.authService.signIn(r).subscribe({next:t=>{this.authService.setToken(t.accessToken,t.refreshToken),this.authService.isLoggedInSignal.set(!0),this.router.navigate(["main"])},error:t=>{this.toastr.error(JSON.stringify(t),"Error Signing in")}}):this.signInForm.markAllAsTouched()}static{this.\u0275fac=function(t){return new(t||e)(a(A),a(w),a(C),a(L))}}static{this.\u0275cmp=I({type:e,selectors:[["app-sign-in"]],standalone:!0,features:[F],decls:22,vars:7,consts:[[1,"container-fluid","router-content","map-container"],[1,"row","h-100","flex-column"],[1,"col"],[1,"d-flex","align-items-center","justify-content-center","h-100"],[1,"card","shadow-lg","p-4",2,"width","500px","border-radius","20px"],[1,"card-body"],[1,"card-title","text-center","mb-4",2,"color","#007bff"],[3,"formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","placeholder","Enter your email","formControlName","email",1,"form-control",3,"ngClass"],[1,"form-group","mt-3"],["for","password"],["type","password","id","password","placeholder","Enter your password","formControlName","password",1,"form-control",3,"ngClass"],["type","button",1,"btn","btn-primary","btn-block","btn-login","mt-4","w-100",3,"click"],[1,"text-center","mt-3"],["href","#",1,"text-muted"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),s(7,"Login"),o(),n(8,"form",7)(9,"div",8)(10,"label",9),s(11,"Email"),o(),g(12,"input",10),o(),n(13,"div",11)(14,"label",12),s(15,"Password"),o(),g(16,"input",13),o(),n(17,"button",14),S("click",function(){return i.onSignInSubmit()}),s(18,"Sign In"),o()(),n(19,"div",15)(20,"a",16),s(21,"Forgot your password?"),o()()()()()()()()),t&2&&(d(8),u("formGroup",i.signInForm),d(4),u("ngClass",f(3,R,i.signInForm.get("email").invalid&&i.signInForm.get("email").touched)),d(4),u("ngClass",f(5,R,i.signInForm.get("password").invalid&&i.signInForm.get("password").touched)))},dependencies:[T,E,M,N,x,j,k,c,y]})}}return e})();var q=[{path:"",component:G}],_=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=l({type:e})}static{this.\u0275inj=m({imports:[h.forChild(q),h]})}}return e})();var ee=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=l({type:e})}static{this.\u0275inj=m({imports:[c,_]})}}return e})();export{ee as AuthModule};
